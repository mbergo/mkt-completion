<!DOCTYPE html>
<html>
  <head>
    <title>Ajudante de Texto Peter</title>
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles.css')}}">
  </head>
  <body>
    <div class="container">
      <h1>Petter Completa e Cria Textos</h1>
      <form method="POST" action="/" id="mainForm">
    <label for="text">O que voce quer?</label>
    <textarea type="text" id="text" name="text" required></textarea>
    <br><br>
    <label for="size">Result size:</label>
    <input type="range" min="1" max="10" value="5" class="slider" id="size" name="size">
    <label for="temp">Temperature:</label>
    <input type="range" min="0" max="1" step="0.1" value="0.7" class="slider" id="temp" name="temp">
    <br>
    <input type="submit" value="Submit">
</form>
      {% if message %}
        <div class="message">
          <p>{{ message }}</p>
        </div>
      {% endif %}
    </div>
  </body>
  <script>
    var form = document.getElementById("mainForm");
    form.onsubmit = function(event) {
        event.preventDefault();
        var text = document.getElementById("text").value;
        var size = document.getElementById("size").value;
        var temp = document.getElementById("temp").value;
        // send a POST request to the server with the form data
        fetch("/", {
            method: "POST",
            body: JSON.stringify({
                "text": text,
                "size": size,
                "temp": temp
            }),
            headers: {
                "Content-Type": "application/json"
            }
        })
        .then(function(response) {
            return response.text();
        })
        .then(function(message) {
            // update the page with the response message
            document.getElementById("message").innerHTML = message;
        });
    }
</script>
</html>

